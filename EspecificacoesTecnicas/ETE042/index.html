<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>ETE042 - Transmitir dados SI Bnafar - e-SUS AF - Documentação Negocial</title>
<link href="../../css/theme.css" rel="stylesheet"/>
<link href="../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "ETE042 - Transmitir dados SI Bnafar";
        var mkdocs_page_input_path = "EspecificacoesTecnicas/ETE042.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../.."> e-SUS AF - Documentação Negocial
        </a><div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Especificações Técnicas</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../DocumentoDeMensagensv2/">Documento de Mensagens</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DocumentoDeRegrasv2/">Documento de Regras</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current">Especificações</a>
<ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ETE001/">ETE001 - Realizar Login</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE002/">ETE002 - Cadastrar Usuário do Sistema</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE003/">ETE003 - Recuperar Senha</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE004/">ETE004 - Consultar Permissões de Acesso</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE005/">ETE005 - Atribuir Perfil de Acesso</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE006/">ETE006 - Detalhar Permissão de Acesso</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE007/">ETE007 - Consultar Meus Perfis</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE008/">ETE008 - Solicitar Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE009/">ETE009 - Detalhar Meu Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE010/">ETE010 - Consultar Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE011/">ETE011 - Cadastrar Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE012/">ETE012 - Detalhar Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE013/">ETE013 - Consultar Entes</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE014/">ETE014 - Cadastrar Ente</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE015/">ETE015 - Consultar Estabelecimento</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE016/">ETE016 - Cadastrar Estabelecimento</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE017/">ETE017 - Editar Estabelecimento</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE018/">ETE018 - Detalhar Estabelecimento</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE019/">ETE019 - Consultar Entrada</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE020/">ETE020 - Cadastrar Entrada</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE021/">ETE021 - Editar Entrada</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE022/">ETE022 - Detalhar Entrada</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE023/">ETE023 - Consultar Saída</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE024/">ETE024 - Cadastrar Saída</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE025/">ETE025 - Editar Saída</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE026/">ETE026 - Detalhar Saída</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE027/">ETE027 - Emitir Relatório de Posição de Estoque</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE028/">ETE028 - Detalhar Relatório de Posição de Estoque</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE029/">ETE029 - Consultar Usuário SUS</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE030/">ETE030 - Cadastrar Usuário SUS</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE031/">ETE031 - Editar Usuário SUS</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE032/">ETE032 - Detalhar Usuário SUS</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE033/">ETE033 - Gestão de Integrações</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE034/">ETE034 - Configurar Integração Barramento AF</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE035/">ETE035 - Detalhar Integração Barramento AF</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE036/">ETE036 - Atualizar Dados Cadastrais de Integração Barramento AF</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE037/">ETE037 - Gestão de Estoques</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE038/">ETE038 - Autenticação com GOV.BR</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE039/">ETE039 - Transferência de Produtos entre Estabelecimentos</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE040/">ETE040 - Requisição de produtos para estabelecimentos</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE041/">ETE041 - Configurar transmissão SI Bnafar</a>
</li>
<li class="toctree-l2 current"><a class="reference internal current" href="#">ETE042 - Transmitir dados SI Bnafar</a>
<ul class="current">
<li class="toctree-l3"><a class="reference internal" href="#historico-de-revisoes">Histórico de Revisões</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#historia-de-usuario">História de Usuário</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#criterios-de-aceitacao">Critérios de Aceitação</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#elementos-de-tela">Elementos de Tela</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#prototipo">Protótipo</a>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modelo-de-dados">Modelo de Dados</a>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE043/">ETE043 - Visualizar transmissão federal</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ETE044/">ETE044 - Gestão de integração Cartão Nacional de Saúde</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">Para Validação</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ETE-gerenciar-perfil/">ETE - Gerenciar Perfil</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ETE005/">ETE005 - Atribuir Permissão de Acesso</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ETE014/">ETE014 - Adicionar um ente / instituição ao e-SUS AF</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ete023/">ETE023 - Consultar Saídas</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ete024/">ETE024 - Cadastrar Saídas</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ete025/">ETE025 - Editar Saídas</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ete026/">ETE026 - Detalhar Saídas</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ete029/">ETE029 - Estornar Saída</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../validacao/ETE041_dev/">ETE040 - Cadastro de Entes</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../..">e-SUS AF - Documentação Negocial</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li>
<li class="breadcrumb-item">Especificações Técnicas</li>
<li class="breadcrumb-item">Especificações</li>
<li class="breadcrumb-item active">ETE042 - Transmitir dados SI Bnafar</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="ete042-transmitir-dados-si-bnafar">ETE042 - Transmitir dados SI Bnafar</h1>
<table>
<thead>
<tr>
<th><strong>ETE:</strong></th>
<th>042</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Título:</strong></td>
<td>Transmitir dados SI Bnafar</td>
</tr>
<tr>
<td><strong>Autor:</strong></td>
<td>Ricardo Ronsoni <a href="mailto:ricardo.ronsoni@saude.gov.br">ricardo.ronsoni@saude.gov.br</a></td>
</tr>
<tr>
<td><strong>Revisor:</strong></td>
<td>Jessé Azevêdo <a href="mailto:jesse.azevedo@saude.gov.br">jesse.azevedo@saude.gov.br</a></td>
</tr>
<tr>
<td><strong>Revisor:</strong></td>
<td>-</td>
</tr>
<tr>
<td><strong>Status:</strong></td>
<td>Aprovado</td>
</tr>
<tr>
<td><strong>Versão:</strong></td>
<td>1.0</td>
</tr>
</tbody>
</table>
<h2 id="historico-de-revisoes">Histórico de Revisões</h2>
<table>
<thead>
<tr>
<th><strong>Versão</strong></th>
<th><strong>Data</strong></th>
<th><strong>Autor</strong></th>
<th><strong>Descrição</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>05/06/2025</td>
<td>Ricardo Ronsoni</td>
<td>Criação do documento</td>
</tr>
<tr>
<td>1.1</td>
<td>14/06/2025</td>
<td>Jessé Azevêdo</td>
<td>Revisão do documento</td>
</tr>
<tr>
<td>1.2</td>
<td>18/06/2025</td>
<td>Ricardo Ronsoni</td>
<td>Atualização do documento</td>
</tr>
</tbody>
</table>
<h2 id="historia-de-usuario">História de Usuário</h2>
<p>Como usuário quero que o sistema envie os dados de saída e posição de estoque para o SI Bnafar, e consulte o processamento e as inconsistências no serviço federal.</p>
<h2 id="criterios-de-aceitacao">Critérios de Aceitação</h2>
<ol>
<li>As configurações de credenciais e transmissão de dados para o SI Bnafar será realizada a nível estadual, e será aplicada para todos os entes vinculados a instância estadual. <a href="../DocumentoDeRegrasv2/">#RGN001</a>. </li>
<li>A transmissão deve ocorrer conforme a configuração do SI Bnafar para a instância. <a href="../DocumentoDeRegrasv2/">#RGN072</a>.  </li>
<li>A persistência dos dados para auditoria deve ocorrer somente no caso do campo “Tempo guarda envios (dias)” da <a href="../ETE041/">ETE041</a> estar preenchido com “Sim”. Somente deverão ser auditados as requisições referentes ao envio de dados (consultas não serão incluídas). <a href="../DocumentoDeRegrasv2/">#RGN070</a>.  </li>
<li>Para realizar a auditoria dos envios, o sistema deve persistir a requisição e resposta completa realizada para o SI Bnafar:<ul>
<li>Para requisições com status 2xx, 4xx ou 5xx: Deverá ser persistido o header, body, URL, método, status HTTP, timestamp envio, timestamp resposta. Para status 2xx também deverá ser persistido o número de protocolo relativo ao envio.</li>
<li>Para os casos de insucesso devido a problemas de conexão (ex: API indisponível ou timeout): Deverá ser persistido somente os dados da requisição (header, body, URL, método, timestamp envio), e o motivo do erro. Se o motivo for timeout do serviço, deverá ser persistido o valor do timeout utilizado na transmissão.</li>
</ul>
</li>
<li>O sistema deve possuir uma rotina para excluir os registros de auditoria com o tempo maior de persistência do que especificado no “Auditar transmissões” -&gt; “Dias” no <a href="../ETE041/">#ETE041</a>. Exclusão deverá ser física. <a href="../DocumentoDeRegrasv2/">#RGN070</a>.  </li>
<li>A relação dos itens a serem transmitidos devem obedecer a configuração da integração. <a href="../DocumentoDeRegrasv2/">#RGN069</a>.  </li>
<li>Nem todos os tipos de saída deverão ser transmitidos para o SI Bnafar. Ver <a href="../DocumentoDeRegrasv2/">#RGN073</a>.  </li>
<li>Se o campo “Configurações Avançadas” da <a href="../ETE041/">#ETE041</a> estiver preenchido com “Sim”, deverão ser observados os campos “Limite registros por lote” e “Timeout (ms)” para realizar as transmissões. Se o campo estiver preenchido com “Não”, deverá ser utilizado o timeout de 45000 ms e o limite de 1000 registros por lote.  </li>
<li>Municípios informados como excluídos na <a href="../ETE041/">#ETE041</a> não deverão ter os seus dados de saída e estoque transmitidos para o SI Bnafar, para a referida instância e UF. <a href="../DocumentoDeRegrasv2/">#RGN071</a>.  </li>
<li>A transmissão para o SI Bnafar deverá ser realizada diariamente, a partir da 00h. A nível federal, cada UF terá uma rotina própria para envio e consulta dos dados.</li>
<li>Os envios devem iniciar com os dados da posição de estoque e posteriormente com as saídas.</li>
<li>Deverão ser utilizados os endpoints de envio em lote do SI Bnafar para realizar a transmissão das saídas e posição de estoque. Os lotes devem conter os dados de apenas um munícipio e de uma data, para que se tenha maior controle posterior.</li>
<li>Os envios e consultas ao SI Bnafar deverão seguir a documentação e o padrão do serviço, disponível no site do Ministério da Saúde (https://servicos-datasus.saude.gov.br/detalhe/DxRPsAn2mh)</li>
<li>Deverá ser observada a <a href="../DocumentoDeRegrasv2/">#RGN074</a> para recuperar os registros de saída a serem transmitidos para o SI Bnafar.  </li>
<li>Deverá ser observada a <a href="../DocumentoDeRegrasv2/">#RGN075</a> para obter os registros de posição de estoque a serem transmitidos para o SI Bnafar.  </li>
<li>
<p>Sistema deverá possuir tabelas próprias para controlar as transmissões para o SI Bnafar. Essas tabelas deverão persistir:  </p>
<ul>
<li>Vínculo do sistema com os parâmetros retornados do SI Bnafar (protocolo<em> e código do registro</em>*):  <ul>
<li>Entre os IDs da saída;  </li>
<li>Entre a data da posição de estoque.  </li>
</ul>
</li>
<li>Status de processamento do SI Bnafar;  </li>
<li>Inconsistências geradas;  </li>
<li>Auditoria das requisições;  </li>
<li>Tentativas de transmissão.  </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Importante</p>
<ul>
<li>O protocolo é gerado no momento da transmissão para o SI Bnafar.  </li>
<li>O código do registro é retornado pelo serviço na consulta do processamento do lote. Ele é gerado apenas caso o protocolo tenha sido processado, e o registro não contenha inconsistência.</li>
</ul>
</div>
</li>
<li>
<p>As saídas com registro de estorno não deverão ser transmitidas para o SI Bnafar. <a href="../DocumentoDeRegrasv2/">#RGN076</a>.  </p>
</li>
<li>Deverá ser observado o prazo de registro de estorno do SI Bnafar. Ver <a href="../DocumentoDeRegrasv2/">#RGN077</a>.  </li>
<li>Caso um lote de posição de estoque tenha problema de transmissão em sua primeira tentativa, o sistema deverá gravar o mesmo em banco de dados para o envio posterior. Isso é necessário para que não seja calculado a posição de estoque retroativa para cada tentativa de reenvio. Após o sucesso no envio, o lote poderá ser excluído do banco.</li>
<li>Caso ocorra algum erro na transmissão por (ex: 5xx, timeout ou indisponibilidade do serviço), o sistema deve tentar realizar três reenvios em tempo de execução. Caso a transmissão não ocorra, novas tentativas posteriores serão realizadas (rotina segregada).</li>
<li>Além da transmissão dos dados, o sistema deverá possuir outra rotina com horários distintos para consultar o processamento e as inconsistências dos registros.</li>
<li>Para cada envio realizado o sistema deverá consultar o processamento do mesmo, utilizando o número do protocolo. A consulta do processamento deve ocorrer somente para os protocolos que não tiveram o seu processamento finalizado pelo SI Bnafar. Para cada protocolo o sistema deverá manter o status de processamento atualizado.</li>
<li>Para os protocolos que foram processados e que apresentaram inconsistências, o sistema deverá consultar as inconsistências e salvar em banco o código, mensagem, campo com erro e valor informado. O sistema deverá persistir as inconsistências vinculadas aos registros de origem no sistema.</li>
<li>A consulta das inconsistências deve ocorrer logo após a consulta do status de processamento do protocolo. A consulta da inconsistência deve ocorrer apenas para os protocolos com status “4” (processamento finalizado, com ao menos um registro inconsistente) no SI Bnafar.</li>
<li>O sistema deverá persistir para cada registro o número de tentativas de envio.</li>
<li>Além das rotinas de envio, o sistema deverá possuir os seguintes agendamentos:<ul>
<li>Consultar processamento e inconsistência: 8h e 15h.</li>
<li>Retentiva envio de itens com erro: 11h e 20h.</li>
</ul>
</li>
<li>Para gerar a autenticação no SI Bnafar devem ser utilizadas as credenciais informadas nos campos “Usuário” e “Senha” da <a href="../ETE041/">#ETE041</a>.</li>
<li>Para o envio da posição de estoque:<ul>
<li>Transmissão deve abranger todos os lotes e programas de saúde por unidade de saúde (deve ser obedecido esse grão e os dados não devem ser consolidados). Ex: Um mesmo produto em um estabelecimento possui lotes diferentes e programas de saúde distintos -&gt; Cada combinação deverá gerar um registro de envio;</li>
<li>Itens com valores zerados no estoque não deverão ser transmitidos;</li>
<li>Estoque de produtos vencidos deverão ser transmitidos.</li>
</ul>
</li>
<li>Deve ser realizado um de/para entre os tipos de saída do sistema com as opções disponíveis no SI Bnafar, conforme abaixo:</li>
</ol>
<table>
<thead>
<tr>
<th>Tipo saída eSUS AF</th>
<th>Código SI Bnafar</th>
<th>Saída SI Bnafar</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ajuste de Estoque</td>
<td>S-AE</td>
<td>SAÍDA POR AJUSTE DE ESTOQUE</td>
</tr>
<tr>
<td>Amostra</td>
<td>S-AEA</td>
<td>SAÍDA POR AMOSTRA, EXPOSIÇÃO E ANÁLISE</td>
</tr>
<tr>
<td>Exposição e Análise</td>
<td>S-AEA</td>
<td>SAÍDA POR AMOSTRA, EXPOSIÇÃO E ANÁLISE</td>
</tr>
<tr>
<td>Apreensão Sanitária</td>
<td>S-AS</td>
<td>SAÍDA POR APREENSÃO SANITÁRIA</td>
</tr>
<tr>
<td>Distribuição sem Requisição</td>
<td>S-DD</td>
<td>SAÍDA POR DISTRIBUIÇÃO</td>
</tr>
<tr>
<td>Empréstimo</td>
<td>S-E</td>
<td>SAÍDA PARA EMPRÉSTIMO</td>
</tr>
<tr>
<td>Perda</td>
<td>S-PE</td>
<td>SAÍDA POR PERDA</td>
</tr>
<tr>
<td>Requisição</td>
<td>S-SAC</td>
<td>SAÍDA POR ATENDIMENTO DE REQUISIÇÃO</td>
</tr>
<tr>
<td>Roubo</td>
<td>S-AE</td>
<td>SAÍDA POR AJUSTE DE ESTOQUE</td>
</tr>
<tr>
<td>Saída para Departamento</td>
<td>S-DEPART</td>
<td>SAÍDA PARA DEPARTAMENTO</td>
</tr>
<tr>
<td>Transferência</td>
<td>S-T</td>
<td>SAÍDA POR TRANSFERÊNCIA</td>
</tr>
<tr>
<td>Usuário SUS não Identificado</td>
<td>S-PA</td>
<td>SAÍDA PARA USUÁRIO SUS</td>
</tr>
<tr>
<td>Validade Vencida</td>
<td>S-VV</td>
<td>SAÍDA POR VALIDADE VENCIDA</td>
</tr>
</tbody>
</table>
<h2 id="elementos-de-tela">Elementos de Tela</h2>
<p>Não se aplica.  </p>
<h3 id="prototipo">Protótipo</h3>
<p>Não se aplica.</p>
<h2 id="modelo-de-dados">Modelo de Dados</h2>
<p>Conjunto de dados 1: Dados de envio SI BNAFAR</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Nível</th>
<th style="text-align: left;">Atributo</th>
<th style="text-align: left;">Descrição</th>
<th style="text-align: left;">Cardinalidade</th>
<th style="text-align: left;">Tipo de Dado</th>
<th style="text-align: left;">Tamanho</th>
<th style="text-align: left;">Formato</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Identificador da configuração SI BNAFAR</td>
<td style="text-align: left;">Identificador da tabela de configuração do SI BNAFAR</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Identificador do ente no e-SUS AF</td>
<td style="text-align: left;">Identificador do ente na tabela de entes do e-SUS AF</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Número de protocolo</td>
<td style="text-align: left;">Número de protocolo retornado ao enviar o conjunto de dados</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">60</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Data conjunto de dados</td>
<td style="text-align: left;">Data do conjunto de dados</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Data de envio</td>
<td style="text-align: left;">Data de envio do conjunto de dados</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Data de processamento</td>
<td style="text-align: left;">Data de processamento do conjunto de dados</td>
<td style="text-align: left;">0..1</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Status Envio</td>
<td style="text-align: left;">Status de envio do conjunto de dados</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">S - Enviado com Sucesso, F - Falha ao realizar envio</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Dado</td>
<td style="text-align: left;">Conjunto de dados encaminhado</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">JSON</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Total de Registros</td>
<td style="text-align: left;">Número de registros do protocolo</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Status Protocolo</td>
<td style="text-align: left;">Campo enumerado conforme Domínio Status de protocolo</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Campo enumerado conforme Domínio Status de protocolo</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Número de inconsistências</td>
<td style="text-align: left;">Número de inconsistências no registro do protocolo</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
<p>Conjunto de dados 2: Auditoria de envios SI BNAFAR</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Nível</th>
<th style="text-align: left;">Atributo</th>
<th style="text-align: left;">Descrição</th>
<th style="text-align: left;">Cardinalidade</th>
<th style="text-align: left;">Tipo de Dado</th>
<th style="text-align: left;">Tamanho</th>
<th style="text-align: left;">Formato</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Identificador dos dados de envio SI BNAFAR</td>
<td style="text-align: left;">Identificador da tabela de configuração do SI BNAFAR</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Identificado do ente</td>
<td style="text-align: left;">Identificador do ente no e-SUS AF</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Número de tentativas de envio</td>
<td style="text-align: left;">Contagem do total de tentativas de envio do protocolo</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Data da ultima consulta</td>
<td style="text-align: left;">Data da ultima consulta ao protocolo</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
</tbody>
</table>
<p>Conjunto de dados 3: Registro de retorno de consultas</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Nível</th>
<th style="text-align: left;">Atributo</th>
<th style="text-align: left;">Descrição</th>
<th style="text-align: left;">Cardinalidade</th>
<th style="text-align: left;">Tipo de Dado</th>
<th style="text-align: left;">Tamanho</th>
<th style="text-align: left;">Formato</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Identificador do registro de auditoria</td>
<td style="text-align: left;">Identificador da tabela de configuração do SI BNAFAR</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Data de interação com o SI BNAFAR</td>
<td style="text-align: left;">Data da ultima interação com o SI BNAFAR</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">Date</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Método HTTP</td>
<td style="text-align: left;">Método HTTP utilizado na requisição</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">255</td>
<td style="text-align: left;">Método utilizado para interação com o SI BNAFAR</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Status da Operação</td>
<td style="text-align: left;">Registro do status da operação</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Status HTTP da operação</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Retorno da operação</td>
<td style="text-align: left;">Retorno da operaçãso realizada</td>
<td style="text-align: left;">1..1</td>
<td style="text-align: left;">JSON</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
</tbody>
</table>
<p><em>Domínio Status protocolo de processamento</em></p>
<table>
<thead>
<tr>
<th>Código</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Protocolo na fila de processamento aguardando o início do processamento</td>
</tr>
<tr>
<td>2</td>
<td>Servidor iniciou o processamento do protocolo, mas ainda não finalizado</td>
</tr>
<tr>
<td>3</td>
<td>Processamento finalizado, sem inconsistências</td>
</tr>
<tr>
<td>4</td>
<td>Processamento finalizado, com ao menos um registro inconsistente</td>
</tr>
<tr>
<td>5</td>
<td>Erro interno do servidor ao processar o arquivo. O protocolo será enviado novamente para a fila de processamento</td>
</tr>
</tbody>
</table>
<div class="mermaid">erDiagram
    ENVIO ||--o| AUDITORIA : possui
    AUDITORIA ||--o{ REGISTRO_REQUISICAO : registra
</div>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../ETE041/" title="ETE041 - Configurar transmissão SI Bnafar"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../ETE043/" title="ETE043 - Visualizar transmissão federal">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../ETE041/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../ETE043/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../..";</script>
<script src="../../js/theme_extra.js"></script>
<script src="../../js/theme.js"></script>
<script src="../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>
