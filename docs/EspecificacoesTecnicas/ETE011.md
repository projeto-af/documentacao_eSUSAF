# Especificação Técnica 011 - Cadastrar Perfil

## Descrição
Como usuário quero cadastrar ou editar um perfil personalizado de acesso às funcionalidades do sistema, com suas respectivas permissões.

## Protótipo 001
[Inserir imagem] <!-- ![alt text](../imagens/ete-011-prot-001-temp.png) -->

## Acesso
Controle de Acesso > Gerenciar perfil > Acionar o botão “novo”

### Critérios de aceite 
1. O usuário somente poderá acessar a funcionalidade caso tenha permissão; [RGN001](DocumentoDeRegrasv2.md#rgn001)
2. Quando o usuário acionar a opção “Salvar”, o sistema deve verificar se existe um perfil com a mesma descrição de um perfil já cadastrado para a instância. Caso sim, o sistema apresenta uma mensagem de alerta ao usuário e permanece na tela de cadastro do perfil; [RGN051](DocumentoDeRegrasv2.md#rgn051) [MSG077](DocumentoDeMensagensv2.md#msg077)
Atendendo a validações, o sistema grava o registro do perfil com estado e situação “Ativo” e apresenta a relação das permissões por funcionalidades para seleção e os botões “Cadastrar” e “Limpar”; [MSG031](DocumentoDeMensagensv2.md#msg031) [RGN005](DocumentoDeRegrasv2.md#rgn005)
3. Quando o usuário acionar a opção de “Cadastrar”, o sistema deve verificar se o preenchimento das informações atende às validações listadas, efetivar o cadastro do perfil, gravar o estado e a situação do registro como “Ativo”, apresentar a mensagem de sucesso e retornar à tela de consulta aos perfis apresentando este registro.  
4. Quando o usuário acionar a opção de “Limpar”, o sistema deve limpar os dados informados e permanece na tela de cadastro de perfil. 
5. Quando o usuário acionar a opção de “Voltar” ou “Consultar”, o sistema deve apresentar a mensagem de alerta ao usuário. Caso confirme a ação, retorna à tela de consulta aos perfis e não salva os dados incluídos. Caso a ação não seja confirmada, permanece na tela de cadastro de perfil;
6. O sistema deve gravar a data, hora e CPF e nome do usuário que a executou qualquer ação de alteração no registro. [RGN005](DocumentoDeRegrasv2.md#rgn005)

## Protótipo 002
[Inserir imagem] <!-- ![alt text](../imagens/ete-011-prot-003-temp.png) -->

### Descrição de funcionalidade

Eu como usuário após cadastrar um perfil, desejo configurar os acessos as funcionalidades no sistema.

### Acesso
Controle de Acesso > Gerenciar perfil >Consultar > acionar botão de “edição”. 

### Critérios de aceite
1. O usuário somente poderá acessar a funcionalidade caso tenha permissão; [RGN001](DocumentoDeRegrasv2.md#rgn001)
2. O sistema deve recuperar e apresentar os dados informados no cadastro do perfil, manter o campo “Perfil” inabilitado para edição e permitir a edição dos demais campos, além dos botões “Atualizar” e “Limpar”;  
3. Quando o usuário acionar a opção de “Atualizar”, o sistema deve verificar se o preenchimento das informações atende às validações listadas, atualizar o cadastro do perfil, manter e gravar o estado e a situação do registro como “Ativo”, apresentar a mensagem de sucesso e retornar à tela de consulta aos perfis apresentando este registro como o primeiro da relação dos perfis cadastrados para a instância; [RGN005](DocumentoDeRegrasv2.md#rgn005)
4. Quando o usuário acionar a opção de “Limpar”, o sistema deve limpar os dados informados e permanece na tela de cadastro de perfil. 
5. O sistema deve gravar a data, hora e CPF e nome do usuário que a executou qualquer ação de alteração no registro. [RGN005](DocumentoDeRegrasv2.md#rgn005)