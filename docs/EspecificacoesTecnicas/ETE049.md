# ETE049 - Emitir Relatório de Dispensação/Fornecimento <!-- Estou criando do zero este .md de acordo com o docx. -->

## Descrição
Como usuário quero consultar os dados de dispensação/fornecimento dos produtos e emitir em formato de relatório. 

## Protótipo 001 

[Inserir imagem]

### Acesso 
Menu lateral > Relatórios > Dispensação/Fornecimento 

### Critérios de Aceite 

1. O usuário somente pode acessar a funcionalidade caso tenha permissão. [RGN001](DocumentoDeRegrasv2.md#rgn001);   

2. No filtro campo “Nº do documento”, o sistema deve recuperar e apresentar os dados relacionados a um CPF ou CNS, exibindo todas as dispensações/fornecimentos realizados para este documento; 

3. No filtro “Nome ou EAN” quando o usuário informar:  
    - O Código de Barras do produto, o sistema deve:  
        - Recuperar o produto relacionado ao código de barras da base de dados de medicamentos; [RGN015](../EspecificacoesTecnicas/DocumentoDeRegrasv2.md#rgn015)
        - Emitir um alerta ao usuário caso o sistema não encontre o produto na base de dados de medicamentos. [MSG022](DocumentoDeMensagensv2.md#msg022);  
        - Limpar o campo quando o dado de código de barras for apagado.  
    - O Princípio Ativo ou Nome Comercial de um Medicamento ou Descrição do Produto para Saúde, o sistema deve:  
        - Emitir um alerta ao usuário caso o sistema não encontre o produto na base de dados de medicamentos ou produtos para saúde. [MSG022](DocumentoDeMensagensv2.md#msg022);   
        - Apresentar a lista de produtos ativos no sistema correspondestes ao valor informado no campo autocomplete a partir da indicação do 3º caractere. [RGN015](DocumentoDeRegrasv2.md#rgn015);  
        - O usuário deve selecionar o produto que deseja adicionar na lista produtos ativos no sistema.  
    - Quando o usuário acionar a opção “Excluir”, o sistema deve permitir excluir o produto adicionado para consulta. 
4. No filtro “Nº do Lote”, o sistema deve permitir informar o número do lote do produto que deseja obter os dados de dispensação/fornecimento; 
5. Nos filtros “Data início” e “Data fim”, o sistema deve recuperar e apresentar as informações de dispensação/fornecimento relativas àquele período;  
6. No filtro “Status” o sistema deverá permitir selecionar uma das opções entre “Em preenchimento”, “Dispensado/Fornecido” e “Estornado”, reportando as informações de dispensação/fornecimento relacionados; 
7. No filtro “Atendimento” o sistema deverá permitir selecionar uma das opções entre “Atendimento total”, “Atendimento parcial” e “Não atendido”, reportando as informações de dispensação/fornecimento relacionados; 
8. Quando o usuário acionar a opção “Emitir”, o sistema deve:  
    - Apresentar a mensagem de alerta caso não encontre registros na base de dados para os filtros informados. [MSG041](DocumentoDeMensagensv2.md#msg041);  
    - Direcionar para a tela de visualização do relatório de posição de estoque de produtos, gerado conforme os filtros informados.   
9. Quando o usuário acionar a opção “Limpar”, o sistema deve limpar o(s) filtro(s) informado(s) e permanecer na tela de emitir relatório de posição de estoque;  
10. Quando o usuário acionar a opção “Voltar”, o sistema deve retornar para a tela inicial do sistema (dashboard). 

 

 