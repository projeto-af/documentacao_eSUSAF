# ETE999 - Modelo de tabelas para histórias de usuário

## Tabela de Campos

> Este modelo reúne em uma única tabela as visões de **Negócio**, **Técnico** e **QA**.  
> Cada linha representa **um campo da tela**.

| Field ID | Rótulo (Negócio) | Descrição (Negócio) | Obrigatório? | Regras Negócio | Perfis de Usuário | Tipo de Dado (Técnico) | Tamanho/Regex (Técnico) | Origem/Alvo (Técnico) | Validação (QA) | Mensagens de Erro (QA) | LGPD / Sensibilidade |
|------------|------------------|----------------------|--------------|----------------|-------------------|------------------------|-------------------------|-----------------------|----------------|-------------------------|----------------------|
| F-PAC-CPF  | CPF do paciente  | Identifica unicamente o paciente | Sim | RB-012: CPF válido; RB-045: Único por paciente | Atendente, Farmacêutico | String | `^\d{11}$` | `paciente.cpf` | Front: regex; Back: algoritmo CPF + unicidade | “CPF inválido”; “CPF já cadastrado” | Pessoal sensível |
| F-PAC-NOME | Nome completo    | Nome civil do paciente | Sim | RB-101: Nome ≥ 2 palavras | Atendente | String | `^.{3,}$` | `paciente.nome` | Front: tamanho mínimo; Back: sanitização | “Informe nome e sobrenome” | Pessoal |
| F-PAC-UF   | UF               | Estado de origem do paciente | Não | — | Atendente | Enum (2 letras) | `^[A-Z]{2}$` | `paciente.uf` | Back: enum válido | “UF inválida” | Não sensível |

---

### Como usar
- **Equipe de Negócio** preenche colunas até “Perfis de Usuário”.
- **Time Técnico** completa colunas de tipo de dado, regex, origem/alvo.
- **QA** deriva cenários a partir das colunas de Validação e Mensagens de Erro.

### Exemplo com Agrupamento em HTML

<table>
  <thead>
    <tr>
      <th rowspan="2">Field ID</th>
      <th colspan="5" style="background-color:#e6f7ff;">Negócio</th>
      <th colspan="3" style="background-color:#f9f0ff;">Dev</th>
      <th colspan="2" style="background-color:#fffbe6;">QA</th>
    </tr>
    <tr>
      <th style="background-color:#e6f7ff;">Rótulo</th>
      <th style="background-color:#e6f7ff;">Descrição</th>
      <th style="background-color:#e6f7ff;">Obrigatório?</th>
      <th style="background-color:#e6f7ff;">Regras Negócio</th>
      <th style="background-color:#e6f7ff;">Perfis</th>

      <th style="background-color:#f9f0ff;">Tipo de Dado</th>
      <th style="background-color:#f9f0ff;">Regex</th>
      <th style="background-color:#f9f0ff;">Origem/Alvo</th>

      <th style="background-color:#fffbe6;">Validação</th>
      <th style="background-color:#fffbe6;">Mensagens de Erro</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>F-PAC-CPF</td>
      <td>CPF do paciente</td>
      <td>Identifica unicamente o paciente</td>
      <td>Sim</td>
      <td>RB-012, RB-045</td>
      <td>Atendente, Farmacêutico</td>

      <td>String</td>
      <td>^\d{11}$</td>
      <td>paciente.cpf</td>

      <td>Front + Back</td>
      <td>“CPF inválido”; “CPF já cadastrado”</td>
    </tr>
  </tbody>
</table>

## Tabela de Regras de Negócio

> Documento vivo. Regras são referenciadas por **ID** nas histórias, telas e critérios de aceite.

| ID      | Descrição | Fonte/Norma | Observações |
|---------|-----------|-------------|-------------|
| RB-012  | CPF deve ser válido conforme algoritmo oficial | Receita Federal | Aplicar validação cliente + servidor |
| RB-045  | CPF deve ser único no sistema | Política de identificação SUS | Verificação de duplicidade |
| RB-101  | Nome deve conter ao menos duas palavras | Diretriz de cadastro cidadão | Evitar abreviações e apelidos |

